<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ragnarok MVP Timer</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<!-- Background image ./Backgrounds/ragnarok_bg.png -->

<div id="scale-wrapper">
<div id="wrapper">
  <div id="left">
    <button class="scroll-up" data-target="positiveList">▲</button>
    <ul id="positiveList"></ul>
    <button class="scroll-down" data-target="positiveList">▼</button>
  </div>

  <div class="resizer" data-side="left"></div>

  <div id="mid">
    <div id="mid-panel">
      <select id="tzSelect"></select>
      <div id="currentTZ"></div>
      <div id="currentTime"></div>

      <div class="mvp-stack">
        <div id="mvpName" class="mvp-name"></div>
        <img  id="mvpGif" class="mvp-sprite" alt="">
        <div id="timerBox">
          <div id="mvpTime" class="timer"></div>
        </div>
        <img  id="mvpMap" class="mvp-map"   alt="">
        <div id="mapName"></div>

          <div class="mvp-controls">
            <div class="option-timer">
            <div class="box-title">Optional Timer (Minutes / Seconds)</div>
              <div id="controls">
                <div class="time-inputs">
                  <input id="minInput" type="number" placeholder="min" min="0">
                  <input id="secInput" type="number" placeholder="sec" min="0" max="59">
                </div>
                <div class="btn-group">
                  <button id="setBtn">Set</button>
                  <button id="startBtn">Start</button>
                  <button id="stopBtn">Stop</button>
                </div>
              </div>
            </div>

            <div class="tomb-time">
              <div class="box-title">Tomb Time (Hour / Minute / Second)</div>
              <div id="tombForm">
                <div class="time-inputs">
                  <input id="tombHour" type="number" placeholder="hh" min="0" max="23">
                  <input id="tombMin"  type="number" placeholder="mm" min="0" max="59">
                  <input id="tombSec"  type="number" placeholder="ss" min="0" max="59">
                </div>
                <div class="btn-group">
                  <button id="tombBtn">Tomb</button>
                </div>
              </div>
            </div>
          </div><!-- /.mvp-controls -->
    </div><!-- /.mvp-stack -->
    </div><!-- /#mid-panel -->
    <div class="v-resizer"></div>
  </div><!-- /#mid -->

  <div class="resizer" data-side="right"></div>

  <!-- NEGATİF / SÜRESİ DOLAN SAYAÇLAR -->
  <div id="right">
    <button class="scroll-up" data-target="negativeList">▲</button>
    <ul id="negativeList"></ul>
    <button class="scroll-down" data-target="negativeList">▼</button>
  </div>

  <!-- MVP Rank panel -->
  <div id="killsWrapper">
    <h3 id="killsTitle">MVP Rank (0)</h3>
    <button id="rankResetBtn">Sıfırla</button>
    <div id="killsPanel"></div>
  </div>
</div><!-- /wrapper -->

<script>
function savePanelWidths(){
  const lw=getComputedStyle(document.documentElement).getPropertyValue('--left-w');
  const rw=getComputedStyle(document.documentElement).getPropertyValue('--right-w');
  localStorage.setItem('leftWidth',lw);
  localStorage.setItem('rightWidth',rw);
}
function loadPanelWidths(){
  const lw=localStorage.getItem('leftWidth');
  const rw=localStorage.getItem('rightWidth');
  if(lw)document.documentElement.style.setProperty('--left-w',lw);
  if(rw)document.documentElement.style.setProperty('--right-w',rw);
}
function savePanelHeights(){
  const st=getComputedStyle(document.documentElement);
  const mh=st.getPropertyValue('--mid-h');
  const kh=st.getPropertyValue('--kills-h');
  localStorage.setItem('midHeight',mh);
  localStorage.setItem('killsHeight',kh);
}
function loadPanelHeights(){
  const mh=localStorage.getItem('midHeight');
  const kh=localStorage.getItem('killsHeight');
  if(mh)document.documentElement.style.setProperty('--mid-h',mh);
  if(kh)document.documentElement.style.setProperty('--kills-h',kh);
}
document.addEventListener('DOMContentLoaded',()=>{loadPanelWidths();loadPanelHeights();});
</script>

  <script src="timeUtils.js" type="module"></script>
  <script type="module" src="app.js"></script>
  <script>
    function updateScale(){
      const wRatio = window.innerWidth / 1920;
      const hRatio = window.innerHeight / 1080;
      const s = Math.min(wRatio, hRatio);
      document.documentElement.style.setProperty('--ui-scale', s);
    }
    window.addEventListener('resize', updateScale);
    updateScale();
  </script>
</div><!-- /scale-wrapper -->
</body>
</html>
